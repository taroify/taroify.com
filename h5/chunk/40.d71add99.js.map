{"version":3,"sources":["webpack:///../../../../packages/core/src/utils/state.ts","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/isNumber.js","webpack:///../../../../packages/icons/src/utils/index.ts","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/isString.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/isUndefined.js","webpack:///../../../../packages/core/src/utils/dom/event.ts","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_toKey.js","webpack:///./src/components/block.tsx","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_isKey.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/toNumber.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/hasIn.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_castPath.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/range.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_isIterateeCall.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/identity.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/isEqual.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_createRange.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_baseRange.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/toFinite.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_baseEach.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_stringToPath.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_memoizeCapped.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/memoize.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_baseHasIn.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_hasPath.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_baseTrim.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_trimmedEndIndex.js","webpack:///../../../../packages/core/src/utils/touch.ts","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_baseClamp.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/replace.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/uniqueId.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/clamp.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/forEach.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_baseForOwn.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_baseFor.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_createBaseFor.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_createBaseEach.js","webpack:///../../../../packages/core/src/utils/raf.ts","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_castFunction.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_arrayEach.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/raf/index.js","webpack:///../src/performance-now.coffee","webpack:///../../../../packages/core/src/utils/dom/computed-style.ts","webpack:///../../../../packages/core/src/swiper/swiper.context.ts","webpack:///../../../../packages/core/src/swiper/swiper-indicator.tsx","webpack:///../../../../packages/core/src/swiper/swiper-item.tsx","webpack:///../../../../packages/core/src/swiper/swiper.tsx","webpack:///../../../../packages/core/src/swiper/index.ts","webpack:///../../../../packages/core/src/swiper/style/index.ts","webpack:///../../../../packages/core/src/white-space/style/index.ts","webpack:///../../../../packages/core/src/white-space/white-space.tsx","webpack:///../../../../packages/core/src/white-space/index.ts","webpack:///../../../../packages/core/src/notice-bar/notice-bar-action.tsx","webpack:///../../../../packages/core/src/notice-bar/notice-bar-icon.tsx","webpack:///../../../../packages/core/src/notice-bar/notice-bar.tsx","webpack:///../../../../packages/core/src/notice-bar/index.ts","webpack:///./src/pages/display/notice-bar/index.tsx"],"names":["previousRef","useRef","useEffect","usePreviousRef","cb","stateRef","refs","setIndexRefs","useCallback","index","el","createRef","update","useUpdate","currentRef","setObject","newState","getObject","useMemo","object","options","onChange","defaultValue","value","setValue","emitChange","getValue","baseGetTag","require","isObjectLike","module","exports","isNumber","isValidElement","element","isIconElement","cloneElement","node","className","oldProps","props","newProps","classNames","isArray","isString","isUndefined","undefined","event","stopPropagation","touches","clientX","clientY","isSymbol","toKey","result","Block","variant","title","children","demoPrefixClassname","reIsDeepProp","reIsPlainProp","isKey","type","test","Object","baseTrim","isObject","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","toNumber","other","valueOf","isBinary","slice","baseHasIn","hasPath","hasIn","path","stringToPath","toString","castPath","range","createRange","eq","isArrayLike","isIndex","isIterateeCall","length","identity","baseIsEqual","isEqual","baseRange","toFinite","fromRight","start","end","step","nativeCeil","Math","ceil","nativeMax","max","Array","baseForOwn","baseEach","createBaseEach","memoizeCapped","rePropName","reEscapeChar","string","charCodeAt","push","replace","match","number","quote","subString","memoize","func","key","cache","size","clear","MapCache","resolver","TypeError","memoized","args","arguments","apply","this","has","get","set","Cache","isArguments","isLength","hasFunc","trimmedEndIndex","reTrimStart","reWhitespace","charAt","emptyFunction","touchRef","startX","startY","deltaX","deltaY","offsetX","offsetY","isVertical","isHorizontal","move","reset","TouchDirection","touch","getDirection","x","y","baseClamp","lower","upper","idCounter","uniqueId","prefix","id","clamp","arrayEach","castFunction","forEach","collection","iteratee","baseFor","keys","createBaseFor","keysFunc","iterable","eachFunc","requestAnimationFrame","rafIds","raf","array","now","root","window","global","vendors","suffix","caf","i","last","queue","callback","_now","next","setTimeout","cp","cancelled","e","round","handle","fn","call","cancel","polyfill","cancelAnimationFrame","elementUnref","Promise","resolve","queryNodesRef","computedStyle","createContext","itemInstances","useContext","indicator","count","renderIndicator","prefixClassname","indicators","direction","__dataIndex__","style","childrenProp","vertical","initializedRef","mountedRef","useState","shouldRender","lazyRender","active","maxActive","prevActive","nextActive","useMounted","setOffset","rootStyle","useRendered","addUnitPx","offset","getIndicatorValue","Swiper","loop","touchable","autoplay","duration","onChangeProp","useValue","valueRef","useToRef","useSwiperChildren","__children__","items","Children","elementType","useTouch","rootRef","rectRef","swipingRef","activeIndexRef","touchStartTimeRef","autoplayTimerRef","valueIndicatorRef","useRenderedRef","activeIndicatorRef","getDelta","getCorrectDirection","customRectRef","width","height","propRectRef","sizeRef","trackSizeRef","minOffsetRef","maxCountRef","getTargetActive","pace","getTargetOffset","currentPosition","targetActive","targetOffset","moveTo","outRightBound","outLeftBound","previousActiveIndex","correctPosition","swipeTo","doubleRaf","targetIndex","stopAutoplay","clearTimeout","startAutoplay","onTouchStart","Date","onTouchMove","correctDirection","preventDefault","onTouchEnd","delta","speed","shouldSwipe","getTrackRect","getRect","getComputedStyle","makeRect","rect","unitToPx","initialize","a","activeIndex","current","item","resize","nextTick","useWindowResize","valueIndicator","trackStyle","transitionDuration","transform","crossAxis","crossAxisValue","ref","SwiperContext","catchMove","onTouchCancel","WhiteSpaceSize","SIZE_PRESETS","isPresetSize","Medium","cloneIconElement","NoticeBar","delay","scrollable","useChildren","icon","text","action","child","ellipsis","startTimerRef","wrapRef","contentRef","wrapWidthRef","contentWidthRef","contentStyle","setDuration","wrapRefWidth","contentRefWidth","wordwrap","onTransitionEnd","BasicNoticeBar","Icon","ScrollableNoticeBar","WordwrapNoticeBar","ActionNoticeBar","Action","NoticeBarWithCustomStyle","color","background","NoticeBarWithVerticalScrolling","Item","NoticeBarDemo"],"mappings":"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","file":"chunk/40.d71add99.js","sourcesContent":["import * as _ from \"lodash\"\r\nimport { createRef, MutableRefObject, useCallback, useEffect, useMemo, useRef } from \"react\"\r\nimport { useUpdate } from \"../hooks\"\r\n\r\nexport function usePreviousRef<T = any>(value: T): MutableRefObject<T> {\r\n  const previousRef = useRef<T>(value)\r\n  useEffect(() => {\r\n    previousRef.current = value\r\n  })\r\n  return previousRef\r\n}\r\n\r\nexport function usePrevious<T>(state: T): T | undefined {\r\n  return usePreviousRef(state).current\r\n}\r\n\r\ntype UseRenderedCallback<T> = () => T\r\n\r\nexport function useRendered<T = any>(cb: UseRenderedCallback<T>): T {\r\n  return cb?.()\r\n}\r\n\r\nexport function useRenderedRef<T = any>(cb: UseRenderedCallback<T>): MutableRefObject<T> {\r\n  const stateRef = useRef<T>()\r\n  if (cb) {\r\n    stateRef.current = cb()\r\n  }\r\n  return stateRef as MutableRefObject<T>\r\n}\r\n\r\nexport function useToRef<T = any>(value: T): MutableRefObject<T> {\r\n  const stateRef = useRef<T>()\r\n  stateRef.current = value\r\n  return stateRef as MutableRefObject<T>\r\n}\r\n\r\nexport function useRefs<T = Element>() {\r\n  const refs = useRef<MutableRefObject<T>[]>([])\r\n\r\n  const setIndexRefs = useCallback(\r\n    (index: number) => (el: unknown) => {\r\n      if (!refs.current[index]) {\r\n        refs.current[index] = createRef() as MutableRefObject<T>\r\n      }\r\n      refs.current[index].current = el as T\r\n    },\r\n    [],\r\n  )\r\n\r\n  return [refs.current, setIndexRefs] as const\r\n}\r\n\r\nexport function useObject<S>(state: S) {\r\n  const update = useUpdate()\r\n\r\n  const stateRef = useRef(state)\r\n\r\n  const currentRef = useRef<S>()\r\n  const previousRef = useRef<S>()\r\n\r\n  if (!_.isEqual(currentRef.current, state)) {\r\n    previousRef.current = currentRef.current\r\n    currentRef.current = state\r\n    stateRef.current = state\r\n  }\r\n\r\n  const setObject = useCallback(\r\n    (newState: S) => {\r\n      stateRef.current = { ...stateRef.current, ...newState }\r\n      update()\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [],\r\n  )\r\n\r\n  const getObject = useCallback(() => stateRef.current as S, [])\r\n\r\n  return useMemo(\r\n    () => ({ object: stateRef.current, getObject, setObject }),\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [stateRef.current, getObject, setObject],\r\n  )\r\n}\r\n\r\ninterface UseValueOptions<S> {\r\n  defaultValue?: S\r\n  initialValue?: S\r\n  value?: S\r\n\r\n  onChange?: (...args: any[]) => void\r\n}\r\n\r\ninterface UseValueReturn<S> {\r\n  value: S | undefined\r\n  getValue: () => S\r\n  setValue: (newValue: S, emitChange?: (aValue: S) => void) => void\r\n}\r\n\r\nexport function useValue<S>(options: UseValueOptions<S> = {}): UseValueReturn<S> {\r\n  const { defaultValue, value, initialValue, onChange } = options\r\n  const update = useUpdate()\r\n  const stateRef = useRef(defaultValue ?? value ?? initialValue)\r\n\r\n  if (value !== undefined) {\r\n    stateRef.current = value\r\n  }\r\n\r\n  const setValue = useCallback(\r\n    (newValue: S, emitChange?: (aValue: S) => void) => {\r\n      if (_.isUndefined(value)) {\r\n        stateRef.current = newValue\r\n        update()\r\n      }\r\n      ;(emitChange ?? onChange)?.(newValue)\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [onChange],\r\n  )\r\n\r\n  const getValue = useCallback(() => stateRef.current as S, [])\r\n\r\n  return useMemo(\r\n    () => ({ value: stateRef.current, getValue, setValue }),\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [stateRef.current, getValue, setValue],\r\n  )\r\n}\r\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && baseGetTag(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n","import classNames from \"classnames\"\nimport * as _ from \"lodash\"\nimport { cloneElement, isValidElement, ReactElement, ReactNode } from \"react\"\nimport { ICON_TYPE, IconProps } from \"../shared\"\n\nexport function isIconElement(node?: ReactNode): boolean {\n  // Is`t not ReactElement\n  if (!isValidElement(node)) {\n    return false\n  }\n  const element = node as ReactElement\n  return _.hasIn(element.type, ICON_TYPE)\n}\n\nexport function cloneIconElement(node: ReactNode, props: IconProps): ReactNode {\n  if (!isIconElement(node)) {\n    return isValidElement(node) ? cloneElement(node, props) : node\n  }\n  const { className, ...restProps } = props\n  const element = node as ReactElement\n  const { props: oldProps } = element\n  const newProps: IconProps = {\n    ...oldProps,\n    className: classNames(oldProps.className, className),\n    ...restProps,\n  }\n  return cloneElement(element, newProps)\n}\n","var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n","/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nmodule.exports = isUndefined;\n","import { CommonEvent, ITouchEvent } from \"@tarojs/components\"\nimport { inBrowser } from \"../base\"\n\nexport function stopPropagation(event: CommonEvent) {\n  event.stopPropagation()\n}\n\nexport function preventDefault(event: CommonEvent, isStopPropagation?: boolean) {\n  if (inBrowser) {\n    // @ts-ignore\n    if (typeof event.cancelable !== \"boolean\" || event.cancelable) {\n      event.preventDefault()\n    }\n  } else {\n    event.preventDefault()\n  }\n\n  if (isStopPropagation) {\n    stopPropagation(event)\n  }\n}\n\ninterface ClientCoordinates {\n  clientX: number\n  clientY: number\n}\n\nexport function getClientCoordinates(event: ITouchEvent | MouseEvent): ClientCoordinates {\n  // @ts-ignore\n  const { clientX, clientY, touches } = event\n\n  if (clientX && clientY) {\n    return {\n      clientX,\n      clientY,\n    }\n  }\n  return touches[0]\n}\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","import { View } from \"@tarojs/components\"\r\nimport classNames from \"classnames\"\r\nimport * as React from \"react\"\r\nimport { ReactNode } from \"react\"\r\nimport { demoPrefixClassname } from \"../styles/prefix\"\r\nimport \"./block.scss\"\r\n\r\ntype BlockVariant = \"card\"\r\n\r\ninterface BlockProps {\r\n  className?: string\r\n  variant?: BlockVariant\r\n  title?: ReactNode\r\n  children?: ReactNode\r\n}\r\n\r\nexport default function Block(props: BlockProps) {\r\n  const { className, variant, title, children } = props\r\n  return (\r\n    <View className={classNames(demoPrefixClassname(\"block\"), className)}>\r\n      {title && <View className={demoPrefixClassname(\"block__title\")} children={title} />}\r\n      <View\r\n        className={classNames({\r\n          [demoPrefixClassname(\"block__content\")]: variant !== \"card\",\r\n          [demoPrefixClassname(\"block__card\")]: variant === \"card\",\r\n        })}\r\n      >\r\n        {children}\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","import { ITouchEvent } from \"@tarojs/components\"\nimport { useCallback, useEffect, useRef } from \"react\"\n\nconst MIN_DISTANCE = 10\n\nexport enum TouchDirection {\n  Horizontal = \"horizontal\",\n  Vertical = \"vertical\",\n}\n\nfunction getDirection(x: number, y: number): TouchDirection | undefined {\n  if (x > y && x > MIN_DISTANCE) {\n    return TouchDirection.Horizontal\n  }\n  if (y > x && y > MIN_DISTANCE) {\n    return TouchDirection.Vertical\n  }\n}\n\nfunction emptyFunction() {}\n\nexport interface TouchRef {\n  startX: number\n  startY: number\n  deltaX: number\n  deltaY: number\n  offsetX: number\n  offsetY: number\n  direction?: TouchDirection\n\n  isVertical(): boolean\n\n  isHorizontal(): boolean\n\n  start(event: ITouchEvent): void\n\n  move(event: ITouchEvent): void\n\n  reset(): void\n}\n\nexport function useTouch() {\n  const touchRef = useRef<TouchRef>({\n    startX: 0,\n    startY: 0,\n    deltaX: 0,\n    deltaY: 0,\n    offsetX: 0,\n    offsetY: 0,\n    isVertical: () => false,\n    isHorizontal: () => false,\n    start: emptyFunction,\n    move: emptyFunction,\n    reset: emptyFunction,\n  })\n\n  const isVertical = useCallback(() => touchRef.current.direction === TouchDirection.Vertical, [])\n\n  const isHorizontal = useCallback(\n    () => touchRef.current.direction === TouchDirection.Horizontal,\n    [],\n  )\n\n  const reset = useCallback(function () {\n    touchRef.current.deltaX = 0\n    touchRef.current.deltaY = 0\n    touchRef.current.offsetX = 0\n    touchRef.current.offsetY = 0\n    touchRef.current.direction = undefined\n  }, [])\n\n  const start = useCallback(\n    function (event: ITouchEvent) {\n      reset()\n      touchRef.current.startX = event.touches[0].clientX\n      touchRef.current.startY = event.touches[0].clientY\n    },\n    [reset],\n  )\n\n  const move = useCallback(function (event: ITouchEvent) {\n    const touch = event.touches[0]\n    // Fix: Safari back will set clientX to negative number\n    touchRef.current.deltaX = touch.clientX < 0 ? 0 : touch.clientX - touchRef.current.startX\n    touchRef.current.deltaY = touch.clientY - touchRef.current.startY\n    touchRef.current.offsetX = Math.abs(touchRef.current.deltaX)\n    touchRef.current.offsetY = Math.abs(touchRef.current.deltaY)\n\n    if (!touchRef.current.direction) {\n      touchRef.current.direction = getDirection(touchRef.current.offsetX, touchRef.current.offsetY)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (touchRef.current.isHorizontal !== isHorizontal) {\n      touchRef.current.isHorizontal = isHorizontal\n    }\n  }, [touchRef, isHorizontal])\n\n  useEffect(() => {\n    if (touchRef.current.isVertical !== isVertical) {\n      touchRef.current.isVertical = isVertical\n    }\n  }, [touchRef, isVertical])\n\n  useEffect(() => {\n    if (touchRef.current.reset !== reset) {\n      touchRef.current.reset = reset\n    }\n  }, [touchRef, reset])\n\n  useEffect(() => {\n    if (touchRef.current.start !== start) {\n      touchRef.current.start = start\n    }\n  }, [touchRef, start])\n\n  useEffect(() => {\n    if (touchRef.current.move !== move) {\n      touchRef.current.move = move\n    }\n  }, [touchRef, move])\n\n  return touchRef.current\n}\n","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","var toString = require('./toString');\n\n/**\n * Replaces matches for `pattern` in `string` with `replacement`.\n *\n * **Note:** This method is based on\n * [`String#replace`](https://mdn.io/String/replace).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to modify.\n * @param {RegExp|string} pattern The pattern to replace.\n * @param {Function|string} replacement The match replacement.\n * @returns {string} Returns the modified string.\n * @example\n *\n * _.replace('Hi Fred', 'Fred', 'Barney');\n * // => 'Hi Barney'\n */\nfunction replace() {\n  var args = arguments,\n      string = toString(args[0]);\n\n  return args.length < 3 ? string : string.replace(args[1], args[2]);\n}\n\nmodule.exports = replace;\n","var toString = require('./toString');\n\n/** Used to generate unique IDs. */\nvar idCounter = 0;\n\n/**\n * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {string} [prefix=''] The value to prefix the ID with.\n * @returns {string} Returns the unique ID.\n * @example\n *\n * _.uniqueId('contact_');\n * // => 'contact_104'\n *\n * _.uniqueId();\n * // => '105'\n */\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return toString(prefix) + id;\n}\n\nmodule.exports = uniqueId;\n","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","var arrayEach = require('./_arrayEach'),\n    baseEach = require('./_baseEach'),\n    castFunction = require('./_castFunction'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nmodule.exports = forEach;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","import * as _ from \"lodash\"\nimport * as requestAnimationFrame from \"raf\"\n\nexport function cancelRaf(rafId: number | number[]) {\n  if (_.isNumber(rafId)) {\n    requestAnimationFrame.cancel(rafId)\n  } else if (_.isArray(rafId)) {\n    _.forEach(rafId, cancelRaf)\n  }\n}\n\nexport function raf(cb: FrameRequestCallback) {\n  // @ts-ignore\n  return requestAnimationFrame.default(cb)\n}\n\nexport default raf\n\nexport function doubleRaf(cb: FrameRequestCallback): [number, number] {\n  const rafIds: [number, number] = [0, 0]\n  rafIds[1] = raf(() => {\n    rafIds[0] = raf(cb)\n  })\n  return rafIds\n}\n","var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n","// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n","import { inBrowser } from \"../base\"\r\nimport { elementUnref, queryNodesRef } from \"./element\"\r\n\r\nexport function getComputedStyle(\r\n  elementOrRef: any,\r\n  computedStyle: string[],\r\n): Promise<CSSStyleDeclaration> {\r\n  const element = elementUnref(elementOrRef)\r\n  if (element) {\r\n    if (inBrowser) {\r\n      return Promise.resolve(window.getComputedStyle(element as any))\r\n    } else {\r\n      return new Promise<CSSStyleDeclaration>((resolve) => {\r\n        queryNodesRef(element)\r\n          .fields(\r\n            {\r\n              computedStyle,\r\n            },\r\n            (result) => resolve(result as CSSStyleDeclaration),\r\n          )\r\n          .exec()\r\n      })\r\n    }\r\n  }\r\n\r\n  return Promise.resolve({} as CSSStyleDeclaration)\r\n}\r\n","import { createContext } from \"react\"\r\nimport { SwiperDirection } from \"./swiper.shared\"\r\n\r\nexport interface SwiperItemInstance {\r\n  setOffset: (offset: number) => void\r\n}\r\n\r\ninterface SwiperContextValue {\r\n  direction?: SwiperDirection\r\n  lazyRender?: boolean\r\n  loop?: boolean\r\n  size?: number\r\n  indicator?: number\r\n  count?: number\r\n  itemInstances: SwiperItemInstance[]\r\n}\r\n\r\nconst SwiperContext = createContext<SwiperContextValue>({\r\n  itemInstances: [],\r\n})\r\nexport default SwiperContext\r\n","import { View } from \"@tarojs/components\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport * as _ from \"lodash\"\r\nimport * as React from \"react\"\r\nimport { ReactNode, useCallback, useContext, useMemo } from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\nimport SwiperContext from \"./swiper.context\"\r\n\r\nexport interface SwiperIndicatorProps extends ViewProps {\r\n  className?: string\r\n  children?: ReactNode\r\n}\r\n\r\nexport default function SwiperIndicator(props: SwiperIndicatorProps) {\r\n  const { className, children, ...restProps } = props\r\n  const { indicator = 0, direction, count } = useContext(SwiperContext)\r\n\r\n  const renderIndicator = useCallback(\r\n    (index: number) => (\r\n      <View\r\n        key={index}\r\n        className={classNames(prefixClassname(\"swiper__indicator\"), {\r\n          [prefixClassname(\"swiper__indicator--active\")]: index === indicator,\r\n        })}\r\n      />\r\n    ),\r\n    [indicator],\r\n  )\r\n\r\n  const indicators = useMemo(() => !children && _.range(0, count).map(renderIndicator), [\r\n    children,\r\n    count,\r\n    renderIndicator,\r\n  ])\r\n\r\n  return (\r\n    <View\r\n      className={classNames(\r\n        {\r\n          [prefixClassname(\"swiper__indicators\")]: !children,\r\n          [prefixClassname(\"swiper__indicators--vertical\")]: !children && direction === \"vertical\",\r\n        },\r\n        className,\r\n      )}\r\n      children={children ?? indicators}\r\n      {...restProps}\r\n    />\r\n  )\r\n}\r\n","import { View } from \"@tarojs/components\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport * as React from \"react\"\r\nimport { CSSProperties, ReactNode, useContext, useEffect, useMemo, useRef, useState } from \"react\"\r\nimport { useMounted } from \"../hooks\"\r\nimport { prefixClassname } from \"../styles\"\r\nimport { addUnitPx } from \"../utils/format/unit\"\r\nimport { useRendered } from \"../utils/state\"\r\nimport SwiperContext from \"./swiper.context\"\r\n\r\nexport interface SwiperItemProps extends ViewProps {\r\n  __dataIndex__?: number\r\n  className?: string\r\n  style?: CSSProperties\r\n  children?: ReactNode\r\n}\r\n\r\nexport default function SwiperItem(props: SwiperItemProps) {\r\n  const {\r\n    __dataIndex__ = 0,\r\n    className,\r\n    style: styleProp,\r\n    children: childrenProp,\r\n    ...restProps\r\n  } = props\r\n\r\n  const { lazyRender, size, direction, loop, indicator = 0, count = 0, itemInstances } = useContext(\r\n    SwiperContext,\r\n  )\r\n  const vertical = direction === \"vertical\"\r\n\r\n  const initializedRef = useRef(false)\r\n  const mountedRef = useRef(false)\r\n\r\n  const [offset, setOffset] = useState(0)\r\n\r\n  const shouldRender = useMemo(() => {\r\n    if (!lazyRender || initializedRef.current) {\r\n      return true\r\n    }\r\n\r\n    // wait for all item to mount, so we can get the exact count\r\n    if (!mountedRef.current && indicator !== 0) {\r\n      return false\r\n    }\r\n\r\n    const active = indicator\r\n    const maxActive = count - 1\r\n    const prevActive = active === 0 && loop ? maxActive : active - 1\r\n    const nextActive = active === maxActive && loop ? 0 : active + 1\r\n    initializedRef.current =\r\n      __dataIndex__ === active || __dataIndex__ === prevActive || __dataIndex__ === nextActive\r\n    return initializedRef.current\r\n  }, [__dataIndex__, count, indicator, lazyRender, loop])\r\n\r\n  useMounted(() => {\r\n    mountedRef.current = true\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (!itemInstances[__dataIndex__]) {\r\n      itemInstances[__dataIndex__] = { setOffset }\r\n    }\r\n  }, [itemInstances, __dataIndex__])\r\n\r\n  const rootStyle = useRendered(() => {\r\n    const style: CSSProperties = {}\r\n    if (size) {\r\n      const mainAxis = vertical ? \"height\" : \"width\"\r\n      style[mainAxis] = addUnitPx(size)\r\n    }\r\n    style.transform = offset ? `translate${vertical ? \"Y\" : \"X\"}(${addUnitPx(offset)})` : \"\"\r\n    return style\r\n  })\r\n\r\n  return (\r\n    <View\r\n      className={classNames(prefixClassname(\"swiper-item\"), className)}\r\n      style={{\r\n        ...styleProp,\r\n        ...rootStyle,\r\n      }}\r\n      children={shouldRender ? childrenProp : undefined}\r\n      {...restProps}\r\n    />\r\n  )\r\n}\r\n","import { ITouchEvent, View } from \"@tarojs/components\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport { nextTick } from \"@tarojs/taro\"\r\nimport classNames from \"classnames\"\r\nimport * as _ from \"lodash\"\r\nimport * as React from \"react\"\r\nimport {\r\n  Children,\r\n  cloneElement,\r\n  CSSProperties,\r\n  isValidElement,\r\n  ReactElement,\r\n  ReactNode,\r\n  useCallback,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from \"react\"\r\nimport { useMounted, useUpdate, useWindowResize } from \"../hooks\"\r\nimport { prefixClassname } from \"../styles\"\r\nimport { getComputedStyle } from \"../utils/dom/computed-style\"\r\nimport { preventDefault } from \"../utils/dom/event\"\r\nimport { getRect, makeRect, Rect } from \"../utils/dom/rect\"\r\nimport { addUnitPx, unitToPx } from \"../utils/format/unit\"\r\nimport { doubleRaf } from \"../utils/raf\"\r\nimport { useRendered, useRenderedRef, useToRef, useValue } from \"../utils/state\"\r\nimport { useTouch } from \"../utils/touch\"\r\nimport SwiperIndicator from \"./swiper-indicator\"\r\nimport SwiperItem from \"./swiper-item\"\r\nimport SwiperContext, { SwiperItemInstance } from \"./swiper.context\"\r\nimport { SwiperDirection } from \"./swiper.shared\"\r\n\r\ninterface SwiperChildren {\r\n  items: ReactNode[]\r\n  indicator: ReactNode\r\n  count: number\r\n}\r\n\r\nfunction useSwiperChildren(children: ReactNode): SwiperChildren {\r\n  const __children__: SwiperChildren = {\r\n    items: [],\r\n    indicator: undefined,\r\n    count: 0,\r\n  }\r\n  let index = 0\r\n  Children.forEach(children, (child: ReactNode, i) => {\r\n    // Skip is not Item of Swiper\r\n    if (!isValidElement(child)) {\r\n      return\r\n    }\r\n    const element = child as ReactElement\r\n    const elementType = element.type\r\n    if (elementType === SwiperIndicator) {\r\n      __children__.indicator = element\r\n    } else if (elementType === SwiperItem) {\r\n      const { key } = element\r\n      __children__.items.push(\r\n        cloneElement(element, {\r\n          ...element.props,\r\n          key: key ?? i,\r\n          __dataIndex__: index++,\r\n        }),\r\n      )\r\n    } else {\r\n      __children__.items.push(element)\r\n    }\r\n  })\r\n\r\n  __children__.count = __children__.items.length\r\n  return __children__\r\n}\r\n\r\nfunction getIndicatorValue(value: number, count: number) {\r\n  return (value + count) % count\r\n}\r\n\r\nexport interface SwiperProps extends ViewProps {\r\n  className?: string\r\n  style?: CSSProperties\r\n  defaultValue?: number\r\n  value?: number\r\n  lazyRender?: boolean\r\n  width?: number\r\n  height?: number\r\n  autoplay?: number\r\n  loop?: boolean\r\n  touchable?: boolean\r\n  duration?: number\r\n  direction?: SwiperDirection\r\n  stopPropagation?: boolean\r\n  children?: ReactNode\r\n\r\n  onChange?(value: number): void\r\n}\r\n\r\nfunction Swiper(props: SwiperProps) {\r\n  const {\r\n    className,\r\n    defaultValue,\r\n    value: valueProp,\r\n    lazyRender,\r\n    loop = true,\r\n    touchable = true,\r\n    autoplay = 0,\r\n    duration = 500,\r\n    width,\r\n    height,\r\n    direction = \"horizontal\",\r\n    stopPropagation = true,\r\n    children: childrenProp,\r\n    onChange: onChangeProp,\r\n    ...restProps\r\n  } = props\r\n\r\n  const { value = 0, setValue } = useValue({\r\n    value: valueProp,\r\n    defaultValue,\r\n    onChange: onChangeProp,\r\n  })\r\n\r\n  const valueRef = useToRef(value)\r\n\r\n  const { count, indicator, items } = useSwiperChildren(childrenProp)\r\n\r\n  const itemInstances = useMemo<SwiperItemInstance[]>(() => [], [])\r\n\r\n  const touch = useTouch()\r\n\r\n  const update = useUpdate()\r\n\r\n  const vertical = direction === \"vertical\"\r\n\r\n  const rootRef = useRef()\r\n\r\n  const rectRef = useRef<Rect>()\r\n\r\n  const [offset, setOffset] = useState<number>(0)\r\n\r\n  const swipingRef = useRef(false) // Whether to swiping manually\r\n\r\n  const activeIndexRef = useRef<number>(0)\r\n\r\n  const touchStartTimeRef = useRef(0)\r\n\r\n  const autoplayTimerRef = useRef<NodeJS.Timeout>()\r\n\r\n  const valueIndicatorRef = useRenderedRef(() => getIndicatorValue(value, count))\r\n\r\n  const activeIndicatorRef = useRenderedRef(() => getIndicatorValue(activeIndexRef.current, count))\r\n\r\n  const getDelta = useCallback(\r\n    () => (vertical ? touch.deltaY : touch.deltaX),\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [],\r\n  )\r\n\r\n  const getCorrectDirection = useCallback(\r\n    () => touch.direction === direction,\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [],\r\n  )\r\n\r\n  const customRectRef = useRenderedRef(() => ({\r\n    width: width ?? rectRef.current?.width,\r\n    height: height ?? rectRef.current?.height,\r\n  }))\r\n\r\n  const propRectRef = useRenderedRef(() => ({\r\n    width,\r\n    height,\r\n  }))\r\n\r\n  const sizeRef = useRenderedRef(\r\n    () => (vertical ? customRectRef.current?.height : customRectRef.current?.width) ?? 0,\r\n  )\r\n\r\n  const trackSizeRef = useRenderedRef(() => count * sizeRef.current)\r\n\r\n  const minOffsetRef = useRenderedRef(() => {\r\n    if (rectRef.current) {\r\n      const base = (vertical ? rectRef.current?.height : rectRef.current?.width) ?? 0\r\n      return base - sizeRef.current * count\r\n    }\r\n    return 0\r\n  })\r\n\r\n  const maxCountRef = useRenderedRef(() =>\r\n    Math.ceil(Math.abs(minOffsetRef.current) / sizeRef.current),\r\n  )\r\n\r\n  const getTargetActive = useCallback(\r\n    (pace: number) => {\r\n      if (pace) {\r\n        if (loop) {\r\n          return _.clamp(activeIndexRef.current + pace, -1, count)\r\n        }\r\n        return _.clamp(activeIndexRef.current + pace, 0, maxCountRef.current)\r\n      }\r\n      return activeIndexRef.current\r\n    },\r\n    [loop, maxCountRef, count],\r\n  )\r\n\r\n  const getTargetOffset = useCallback(\r\n    (targetActive: number, offset = 0) => {\r\n      let currentPosition = targetActive * sizeRef.current\r\n      if (!loop) {\r\n        currentPosition = Math.min(currentPosition, -minOffsetRef.current)\r\n      }\r\n\r\n      let targetOffset = offset - currentPosition\r\n      if (!loop) {\r\n        targetOffset = _.clamp(targetOffset, minOffsetRef.current, 0)\r\n      }\r\n      return targetOffset\r\n    },\r\n    [sizeRef, loop, minOffsetRef],\r\n  )\r\n\r\n  const moveTo = useCallback(\r\n    ({ pace = 0, offset = 0, emitChange = false }) => {\r\n      if (count <= 1) {\r\n        return\r\n      }\r\n\r\n      const targetActive = getTargetActive(pace)\r\n      const targetOffset = getTargetOffset(targetActive, offset)\r\n      if (loop) {\r\n        if (itemInstances[0] && targetOffset !== minOffsetRef.current) {\r\n          const outRightBound = targetOffset < minOffsetRef.current\r\n          itemInstances[0].setOffset(outRightBound ? trackSizeRef.current : 0)\r\n        }\r\n\r\n        if (itemInstances[count - 1] && targetOffset !== 0) {\r\n          const outLeftBound = targetOffset > 0\r\n          itemInstances[count - 1].setOffset(outLeftBound ? -trackSizeRef.current : 0)\r\n        }\r\n      }\r\n\r\n      const previousActiveIndex = activeIndexRef.current\r\n      activeIndexRef.current = targetActive\r\n      setOffset(targetOffset)\r\n\r\n      if (emitChange && previousActiveIndex !== targetActive) {\r\n        setValue(getIndicatorValue(targetActive, count))\r\n      }\r\n    },\r\n    [\r\n      count,\r\n      getTargetActive,\r\n      getTargetOffset,\r\n      loop,\r\n      itemInstances,\r\n      minOffsetRef,\r\n      trackSizeRef,\r\n      setValue,\r\n    ],\r\n  )\r\n\r\n  const correctPosition = useCallback(() => {\r\n    swipingRef.current = true\r\n    if (activeIndexRef.current <= -1) {\r\n      moveTo({ pace: count })\r\n    } else if (activeIndexRef.current >= count) {\r\n      moveTo({ pace: -count })\r\n    }\r\n  }, [count, moveTo])\r\n\r\n  const swipeTo = useCallback(\r\n    (index: number) => {\r\n      correctPosition()\r\n      touch.reset()\r\n\r\n      doubleRaf(() => {\r\n        let targetIndex\r\n        if (loop && index === count) {\r\n          targetIndex = activeIndexRef.current === 0 ? 0 : index\r\n        } else {\r\n          targetIndex = index % count\r\n        }\r\n\r\n        swipingRef.current = false\r\n\r\n        moveTo({\r\n          pace: targetIndex - activeIndexRef.current,\r\n          emitChange: true,\r\n        })\r\n      })\r\n    },\r\n    [correctPosition, count, loop, moveTo, touch],\r\n  )\r\n\r\n  // const previous = useCallback(() => {\r\n  //   correctPosition()\r\n  //   doubleRaf(() => {\r\n  //     swipingRef.current = false\r\n  //     moveTo({\r\n  //       pace: -1,\r\n  //       emitChange: true,\r\n  //     })\r\n  //   })\r\n  // }, [correctPosition, moveTo])\r\n\r\n  const next = useCallback(() => {\r\n    correctPosition()\r\n    doubleRaf(() => {\r\n      swipingRef.current = false\r\n      moveTo({\r\n        pace: 1,\r\n        emitChange: true,\r\n      })\r\n    })\r\n  }, [correctPosition, moveTo])\r\n\r\n  const stopAutoplay = useCallback(() => {\r\n    if (autoplayTimerRef.current) {\r\n      clearTimeout(autoplayTimerRef.current)\r\n    }\r\n  }, [])\r\n\r\n  const startAutoplay = useCallback(() => {\r\n    stopAutoplay()\r\n    if (autoplay > 0 && count > 1) {\r\n      autoplayTimerRef.current = setTimeout(() => {\r\n        next()\r\n        startAutoplay()\r\n      }, +autoplay)\r\n    }\r\n  }, [autoplay, count, next, stopAutoplay])\r\n\r\n  const onTouchStart = useCallback(\r\n    (event: ITouchEvent) => {\r\n      if (!touchable) {\r\n        return\r\n      }\r\n\r\n      touch.start(event)\r\n      touchStartTimeRef.current = Date.now()\r\n\r\n      stopAutoplay()\r\n      correctPosition()\r\n    },\r\n    [correctPosition, stopAutoplay, touch, touchable],\r\n  )\r\n\r\n  const onTouchMove = useCallback(\r\n    (event: ITouchEvent) => {\r\n      if (!touchable || !swipingRef.current) {\r\n        return\r\n      }\r\n\r\n      touch.move(event)\r\n      const correctDirection = getCorrectDirection()\r\n      // if user starting to touchmove, prevent the event bubbling to\r\n      // avoid affecting the parent components\r\n      const shouldPrevent = correctDirection || touch.offsetY > touch.offsetX === vertical\r\n      if (shouldPrevent) {\r\n        preventDefault(event, stopPropagation)\r\n      }\r\n\r\n      if (correctDirection) {\r\n        moveTo({ offset: getDelta() })\r\n      }\r\n    },\r\n    [getCorrectDirection, getDelta, moveTo, stopPropagation, touch, touchable, vertical],\r\n  )\r\n\r\n  const onTouchEnd = useCallback(() => {\r\n    if (!touchable || !swipingRef.current) {\r\n      return\r\n    }\r\n    const duration = Date.now() - touchStartTimeRef.current\r\n\r\n    const delta = getDelta()\r\n    const speed = delta / duration\r\n    const shouldSwipe = Math.abs(speed) > 0.25 || Math.abs(delta) > sizeRef.current / 2\r\n\r\n    swipingRef.current = false\r\n    const correctDirection = getCorrectDirection()\r\n    if (shouldSwipe && correctDirection) {\r\n      const offset = vertical ? touch.offsetY : touch.offsetX\r\n\r\n      let pace: number\r\n\r\n      if (loop) {\r\n        pace = offset > 0 ? (delta > 0 ? -1 : 1) : 0\r\n      } else {\r\n        pace = -Math[delta > 0 ? \"ceil\" : \"floor\"](delta / sizeRef.current)\r\n      }\r\n\r\n      moveTo({\r\n        pace,\r\n        emitChange: true,\r\n      })\r\n    } else if (delta) {\r\n      moveTo({ pace: 0 })\r\n    }\r\n    startAutoplay()\r\n  }, [\r\n    touchable,\r\n    getDelta,\r\n    sizeRef,\r\n    getCorrectDirection,\r\n    startAutoplay,\r\n    vertical,\r\n    touch.offsetY,\r\n    touch.offsetX,\r\n    loop,\r\n    moveTo,\r\n  ])\r\n\r\n  const getTrackRect = useCallback(\r\n    () =>\r\n      Promise.all([\r\n        getRect(rootRef),\r\n        getComputedStyle(rootRef, [\"width\", \"height\"]),\r\n      ]).then(([rect, style]) =>\r\n        makeRect(\r\n          style.width === \"auto\" ? rect.width : unitToPx(style.width),\r\n          style.height === \"auto\" ? rect.height : unitToPx(style.height),\r\n        ),\r\n      ),\r\n    [],\r\n  )\r\n\r\n  const initialize = useCallback(\r\n    async (activeIndex = valueRef.current) => {\r\n      if (!rootRef.current) {\r\n        return\r\n      }\r\n      rectRef.current = await getTrackRect()\r\n      if (count) {\r\n        activeIndex = Math.min(count - 1, activeIndex)\r\n      }\r\n      activeIndexRef.current = activeIndex\r\n      swipingRef.current = true\r\n      const targetOffset = getTargetOffset(activeIndex)\r\n      setOffset(targetOffset)\r\n      // Force update render\r\n      if (targetOffset === offset) {\r\n        update()\r\n      }\r\n      itemInstances.forEach((item) => item.setOffset(0))\r\n    },\r\n    [valueRef, getTrackRect, count, getTargetOffset, offset, itemInstances, update],\r\n  )\r\n\r\n  const resize = useCallback(() => nextTick(() => initialize(activeIndexRef.current)), [initialize])\r\n\r\n  useMounted(initialize)\r\n\r\n  useWindowResize(resize)\r\n\r\n  useMounted(() => {\r\n    startAutoplay()\r\n    return stopAutoplay\r\n  })\r\n\r\n  useEffect(\r\n    () => {\r\n      const valueIndicator = valueIndicatorRef.current\r\n      const activeIndicator = activeIndicatorRef.current\r\n      if (valueIndicator !== activeIndicator) {\r\n        try {\r\n          stopAutoplay()\r\n          swipeTo(valueIndicator)\r\n        } finally {\r\n          startAutoplay()\r\n        }\r\n      }\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [valueIndicatorRef.current],\r\n  )\r\n\r\n  const trackStyle = useRendered(() => {\r\n    const style: CSSProperties = {\r\n      transitionDuration: `${swipingRef.current ? 0 : duration}ms`,\r\n      transform: `translate${vertical ? \"Y\" : \"X\"}(${addUnitPx(offset)})`,\r\n    }\r\n\r\n    if (sizeRef.current) {\r\n      const mainAxis = vertical ? \"height\" : \"width\"\r\n      style[mainAxis] = `${addUnitPx(trackSizeRef.current)}`\r\n      const crossAxis = vertical ? \"width\" : \"height\"\r\n      const crossAxisValue = propRectRef.current[crossAxis]\r\n      style[crossAxis] = crossAxisValue ? addUnitPx(crossAxisValue) : \"\"\r\n    }\r\n    return style\r\n  })\r\n\r\n  return (\r\n    <View ref={rootRef} className={classNames(prefixClassname(\"swiper\"), className)} {...restProps}>\r\n      <SwiperContext.Provider\r\n        value={{\r\n          lazyRender,\r\n          loop,\r\n          direction,\r\n          indicator: activeIndicatorRef.current,\r\n          size: sizeRef.current,\r\n          count,\r\n          itemInstances,\r\n        }}\r\n      >\r\n        <View\r\n          className={classNames(prefixClassname(\"swiper__track\"), {\r\n            [prefixClassname(\"swiper__track--vertical\")]: vertical,\r\n          })}\r\n          catchMove\r\n          onTouchStart={onTouchStart}\r\n          onTouchMove={onTouchMove}\r\n          onTouchEnd={onTouchEnd}\r\n          onTouchCancel={onTouchEnd}\r\n          style={trackStyle}\r\n          children={items}\r\n        />\r\n        {indicator}\r\n      </SwiperContext.Provider>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default Swiper\r\n","import SwiperElement, { SwiperProps } from \"./swiper\"\r\nimport SwiperIndicator, { SwiperIndicatorProps } from \"./swiper-indicator\"\r\nimport SwiperItem, { SwiperItemProps } from \"./swiper-item\"\r\nimport { SwiperItemEvent } from \"./swiper.shared\"\r\n\r\ninterface SwiperInterface {\r\n  (props: SwiperProps): JSX.Element\r\n\r\n  Item: typeof SwiperItem\r\n  Indicator: typeof SwiperIndicator\r\n}\r\n\r\nconst Swiper = (SwiperElement as unknown) as SwiperInterface\r\n\r\nSwiper.Item = SwiperItem\r\nSwiper.Indicator = SwiperIndicator\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-redeclare\r\nnamespace Swiper {\r\n  export type ItemEvent = SwiperItemEvent\r\n\r\n  export type ItemProps = SwiperItemProps\r\n\r\n  export type IndicatorProps = SwiperIndicatorProps\r\n}\r\n\r\nexport default Swiper\r\n","import \"../../styles/style\"\r\nimport \"../index.scss\"\r\n","import \"../../styles/style\"\r\nimport \"../index.scss\"\r\n","import { View } from \"@tarojs/components\"\r\nimport classNames from \"classnames\"\r\nimport * as React from \"react\"\r\nimport { CSSProperties, useMemo } from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\n\r\nexport enum WhiteSpaceSize {\r\n  Mini = \"mini\",\r\n  Small = \"small\",\r\n  Medium = \"medium\",\r\n  Large = \"large\",\r\n}\r\n\r\nconst SIZE_PRESETS = [\r\n  WhiteSpaceSize.Mini,\r\n  WhiteSpaceSize.Small,\r\n  WhiteSpaceSize.Medium,\r\n  WhiteSpaceSize.Large,\r\n]\r\n\r\nfunction isPresetSize(size?: WhiteSpaceSize | string | number) {\r\n  return SIZE_PRESETS.includes(size as WhiteSpaceSize)\r\n}\r\n\r\ntype WhiteSpaceSizeString = \"mini\" | \"small\" | \"medium\" | \"large\"\r\n\r\ninterface WhiteSpaceProps {\r\n  size?: WhiteSpaceSize | WhiteSpaceSizeString | string | number\r\n}\r\n\r\nexport default function WhiteSpace(props: WhiteSpaceProps) {\r\n  const { size = WhiteSpaceSize.Medium } = props\r\n\r\n  const rootStyle = useMemo<CSSProperties>(\r\n    () => ({ height: isPresetSize(size) ? \"\" : size }), //\r\n    [size],\r\n  )\r\n\r\n  return (\r\n    <View\r\n      className={classNames(prefixClassname(\"white-space\"), {\r\n        [prefixClassname(`white-space-size-${size}`)]: isPresetSize(size),\r\n      })}\r\n      style={rootStyle}\r\n    />\r\n  )\r\n}\r\n","import WhiteSpace from \"./white-space\"\n\nexport { WhiteSpaceSize } from \"./white-space\"\n\nexport default WhiteSpace\n","import { cloneIconElement } from \"@taroify/icons/utils\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport { ReactNode } from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\n\r\ninterface NoticeBarActionProps extends ViewProps {\r\n  children?: ReactNode\r\n}\r\n\r\nexport function NoticeBarAction(props: NoticeBarActionProps): JSX.Element {\r\n  const { className, children, ...restProps } = props\r\n  // @ts-ignore\r\n  return cloneIconElement(children, {\r\n    className: classNames(prefixClassname(\"notice-bar__action\"), className),\r\n    ...restProps,\r\n  }) as JSX.Element\r\n}\r\n","import { cloneIconElement } from \"@taroify/icons/utils\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport { ReactNode } from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\n\r\ninterface NoticeBarIconProps extends ViewProps {\r\n  children?: ReactNode\r\n}\r\n\r\nexport function NoticeBarIcon(props: NoticeBarIconProps): JSX.Element {\r\n  const { className, children, ...restProps } = props\r\n\r\n  // @ts-ignore\r\n  return cloneIconElement(children, {\r\n    className: classNames(prefixClassname(\"notice-bar__icon\"), className),\r\n    ...restProps,\r\n  }) as JSX.Element\r\n}\r\n","import { View } from \"@tarojs/components\"\nimport { ViewProps } from \"@tarojs/components/types/View\"\nimport { nextTick } from \"@tarojs/taro\"\nimport classNames from \"classnames\"\nimport * as React from \"react\"\nimport {\n  Children,\n  CSSProperties,\n  isValidElement,\n  ReactElement,\n  ReactNode,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\"\nimport { prefixClassname } from \"../styles\"\nimport { getRect } from \"../utils/dom/rect\"\nimport { addUnitPx } from \"../utils/format/unit\"\nimport { doubleRaf } from \"../utils/raf\"\nimport { NoticeBarAction } from \"./notice-bar-action\"\nimport { NoticeBarIcon } from \"./notice-bar-icon\"\n\ninterface NoticeBarChildren {\n  icon: ReactNode\n  text: ReactNode[]\n  action: ReactNode\n}\n\nfunction useChildren(children: ReactNode): NoticeBarChildren {\n  const __children__: NoticeBarChildren = {\n    icon: undefined,\n    text: [],\n    action: undefined,\n  }\n  Children.forEach(children, (child) => {\n    if (isValidElement(child)) {\n      const element = child as ReactElement\n      const elementType = element.type\n      if (elementType === NoticeBarIcon) {\n        __children__.icon = element\n      } else if (elementType === NoticeBarAction) {\n        __children__.action = element\n      } else {\n        __children__.text.push(child)\n      }\n    } else {\n      __children__.text.push(child)\n    }\n  })\n  return __children__\n}\n\nexport interface NoticeBarProps extends ViewProps {\n  className?: string\n  style?: CSSProperties\n  delay?: number\n  speed?: number\n  scrollable?: boolean\n  wordwrap?: boolean\n  children?: ReactNode\n}\n\nfunction NoticeBar(props: NoticeBarProps) {\n  const {\n    className,\n    delay = 1000,\n    speed = 60,\n    wordwrap,\n    scrollable = false,\n    children: childrenProp,\n    ...restProps\n  } = props\n\n  const { icon, text, action } = useChildren(childrenProp)\n\n  const ellipsis = !scrollable && !wordwrap\n  const startTimerRef = useRef<NodeJS.Timeout>()\n  const wrapRef = useRef()\n  const contentRef = useRef()\n\n  const [offset, setOffset] = useState(0)\n  const [duration, setDuration] = useState(0)\n\n  const wrapWidthRef = useRef(0)\n  const contentWidthRef = useRef(0)\n\n  const contentStyle = useMemo<CSSProperties>(\n    () => ({\n      transform: offset ? `translateX(${addUnitPx(offset)})` : \"\",\n      transitionDuration: `${duration}s`,\n    }),\n    [offset, duration],\n  )\n\n  function reset() {\n    wrapWidthRef.current = 0\n    contentWidthRef.current = 0\n    setOffset(0)\n    setDuration(0)\n  }\n\n  function onTransitionEnd() {\n    setOffset(wrapWidthRef.current)\n    setDuration(0)\n\n    nextTick(() => {\n      // use double raf to ensure animation can start\n      doubleRaf(() => {\n        setOffset(-contentWidthRef.current)\n        setDuration((contentWidthRef.current + wrapWidthRef.current) / +speed)\n      })\n    })\n  }\n\n  function start() {\n    reset()\n\n    if (startTimerRef.current) {\n      clearTimeout(startTimerRef.current)\n    }\n\n    startTimerRef.current = setTimeout(async () => {\n      if (!wrapRef.current || !contentRef.current || !scrollable) {\n        return\n      }\n\n      const { width: wrapRefWidth } = await getRect(wrapRef)\n      const { width: contentRefWidth } = await getRect(contentRef)\n\n      if (scrollable || contentRefWidth > wrapRefWidth) {\n        doubleRaf(() => {\n          wrapWidthRef.current = wrapRefWidth\n          contentWidthRef.current = contentRefWidth\n          setOffset(-contentRefWidth)\n          setDuration(contentRefWidth / +speed)\n        })\n      }\n    }, +delay)\n  }\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(start, [])\n\n  return (\n    <View\n      className={classNames(\n        prefixClassname(\"notice-bar\"),\n        {\n          [prefixClassname(\"notice-bar--wordwrap\")]: wordwrap,\n        },\n        className,\n      )}\n      {...restProps}\n    >\n      {icon}\n      <View ref={wrapRef} className={prefixClassname(\"notice-bar__wrap\")}>\n        <View\n          ref={contentRef}\n          style={contentStyle}\n          className={classNames(prefixClassname(\"notice-bar__content\"), {\n            [prefixClassname(\"ellipsis\")]: ellipsis,\n          })}\n          children={text}\n          onTransitionEnd={onTransitionEnd}\n        />\n      </View>\n      {action}\n    </View>\n  )\n}\n\nexport default NoticeBar\n","import NoticeBarElement, { NoticeBarProps } from \"./notice-bar\"\r\nimport { NoticeBarAction } from \"./notice-bar-action\"\r\nimport { NoticeBarIcon } from \"./notice-bar-icon\"\r\n\r\ninterface NoticeBarInterface {\r\n  (props: NoticeBarProps): JSX.Element\r\n\r\n  Icon: typeof NoticeBarIcon\r\n  Action: typeof NoticeBarAction\r\n}\r\n\r\nconst NoticeBar = NoticeBarElement as NoticeBarInterface\r\n\r\nNoticeBar.Icon = NoticeBarIcon\r\nNoticeBar.Action = NoticeBarAction\r\n\r\nexport default NoticeBar\r\n","import { NoticeBar, Swiper, WhiteSpace } from \"@taroify/core\"\r\nimport { ArrowRight, Cross, InfoOutlined, VolumeOutlined } from \"@taroify/icons\"\r\nimport * as React from \"react\"\r\nimport Block from \"../../../components/block\"\r\nimport Page from \"../../../components/page\"\r\nimport \"./index.scss\"\r\n\r\nfunction BasicNoticeBar() {\r\n  return (\r\n    <NoticeBar scrollable>\r\n      <NoticeBar.Icon>\r\n        <VolumeOutlined />\r\n      </NoticeBar.Icon>\r\n      \r\n    </NoticeBar>\r\n  )\r\n}\r\n\r\nfunction ScrollableNoticeBar() {\r\n  return (\r\n    <>\r\n      <NoticeBar scrollable></NoticeBar>\r\n      <WhiteSpace />\r\n      <NoticeBar scrollable={false}>\r\n        \r\n      </NoticeBar>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction WordwrapNoticeBar() {\r\n  return (\r\n    <NoticeBar wordwrap scrollable={false}>\r\n      \r\n    </NoticeBar>\r\n  )\r\n}\r\n\r\nfunction ActionNoticeBar() {\r\n  return (\r\n    <>\r\n      <NoticeBar scrollable={false}>\r\n        \r\n        <NoticeBar.Action>\r\n          <Cross />\r\n        </NoticeBar.Action>\r\n      </NoticeBar>\r\n      <WhiteSpace />\r\n      <NoticeBar scrollable={false}>\r\n        \r\n        <NoticeBar.Action>\r\n          <ArrowRight />\r\n        </NoticeBar.Action>\r\n      </NoticeBar>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction NoticeBarWithCustomStyle() {\r\n  return (\r\n    <NoticeBar style={{ color: \"#1989fa\", background: \"#ecf9ff\" }}>\r\n      <NoticeBar.Icon>\r\n        <InfoOutlined />\r\n      </NoticeBar.Icon>\r\n      \r\n    </NoticeBar>\r\n  )\r\n}\r\n\r\nfunction NoticeBarWithVerticalScrolling() {\r\n  return (\r\n    <NoticeBar>\r\n      <NoticeBar.Icon>\r\n        <VolumeOutlined />\r\n      </NoticeBar.Icon>\r\n      <Swiper className=\"notice-swiper\" direction=\"vertical\" autoplay={3000}>\r\n        <Swiper.Item> 1</Swiper.Item>\r\n        <Swiper.Item> 2</Swiper.Item>\r\n        <Swiper.Item> 3</Swiper.Item>\r\n      </Swiper>\r\n    </NoticeBar>\r\n  )\r\n}\r\n\r\nexport default function NoticeBarDemo() {\r\n  return (\r\n    <Page title=\"NoticeBar \" className=\"notice-bar-demo\">\r\n      <Block title=\"\">\r\n        <BasicNoticeBar />\r\n      </Block>\r\n      <Block title=\"\">\r\n        <ScrollableNoticeBar />\r\n      </Block>\r\n      <Block title=\"\">\r\n        <WordwrapNoticeBar />\r\n      </Block>\r\n      <Block title=\"\">\r\n        <ActionNoticeBar />\r\n      </Block>\r\n      <Block title=\"\">\r\n        <NoticeBarWithCustomStyle />\r\n      </Block>\r\n      <Block title=\"\">\r\n        <NoticeBarWithVerticalScrolling />\r\n      </Block>\r\n    </Page>\r\n  )\r\n}\r\n"],"sourceRoot":""}